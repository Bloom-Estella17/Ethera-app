<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ethera - Votre agenda mindful</title>
    <style>
        /* === THEMES === */
        .theme-dark {
            --bg-primary: #0a0a0f;
            --bg-secondary: #13131a;
            --text-primary: #e8e8f0;
            --text-secondary: #a8a8b8;
            --border-color: #2a2a35;
            --accent-primary: #c792ea;
            --accent-secondary: #82aaff;
            --hover-bg: rgba(199, 146, 234, 0.1);
            --active-bg: rgba(199, 146, 234, 0.15);
            --shadow-color: rgba(199, 146, 234, 0.2);
            --button-bg: #1e1e28;
            --success: #4ade80;
            --warning: #fbbf24;
            --danger: #f87171;
        }

        .theme-light {
            --bg-primary: #fafafa;
            --bg-secondary: #ffffff;
            --text-primary: #1a1a1a;
            --text-secondary: #6b6b6b;
            --border-color: #e0e0e0;
            --accent-primary: #7c3aed;
            --accent-secondary: #3b82f6;
            --hover-bg: rgba(124, 58, 237, 0.08);
            --active-bg: rgba(124, 58, 237, 0.12);
            --shadow-color: rgba(124, 58, 237, 0.15);
            --button-bg: #f5f3ff;
            --success: #22c55e;
            --warning: #f59e0b;
            --danger: #ef4444;
        }

        /* === BASE === */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            display: flex;
            height: 100vh;
            overflow: hidden;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        /* === SIDEBAR === */
        .sidebar {
            width: 280px;
            padding: 2rem 1.5rem;
            display: flex;
            flex-direction: column;
            border-right: 1px solid var(--border-color);
            background: var(--bg-primary);
        }

        .logo h1 {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 3rem;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-menu {
            list-style: none;
            flex: 1;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.25rem;
            margin-bottom: 0.5rem;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .nav-item:hover {
            background: var(--hover-bg);
            transform: translateX(5px);
        }

        .nav-item.active {
            background: var(--active-bg);
            color: var(--accent-primary);
            box-shadow: 0 4px 12px var(--shadow-color);
        }

        .nav-item .icon {
            font-size: 1.4rem;
        }

        .theme-toggle {
            margin-top: auto;
            padding-top: 2rem;
        }

        #themeToggle {
            width: 100%;
            padding: 1rem;
            border: none;
            border-radius: 12px;
            background: var(--button-bg);
            color: var(--text-primary);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        #themeToggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px var(--shadow-color);
        }

        /* === MAIN === */
        .main-content {
            flex: 1;
            padding: 3rem;
            overflow-y: auto;
            background: var(--bg-secondary);
        }

        #content-container {
            max-width: 1400px;
            margin: 0 auto;
            transition: opacity 0.3s ease;
        }

        .page-header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .page-header .date {
            color: var(--text-secondary);
            margin-bottom: 2rem;
            text-transform: capitalize;
        }

        /* === GRID === */
        .today-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 1.5rem;
        }

        /* === CARDS === */
        .card {
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 2rem;
            transition: all 0.3s ease;
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px var(--shadow-color);
        }

        .card h3 {
            font-size: 1.25rem;
            margin-bottom: 1.5rem;
        }

        /* === FORMS === */
        input[type="text"], textarea {
            width: 100%;
            padding: 1rem;
            border: 1px solid var(--border-color);
            border-radius: 10px;
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-family: inherit;
            margin-bottom: 1rem;
        }

        textarea {
            min-height: 120px;
            resize: vertical;
        }

        input:focus, textarea:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 3px var(--hover-bg);
        }

        /* === BUTTONS === */
        .btn-primary {
            width: 100%;
            padding: 1rem;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            color: white;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px var(--shadow-color);
        }

        .btn-secondary {
            width: 100%;
            padding: 1rem;
            border: 1px solid var(--border-color);
            border-radius: 10px;
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-weight: 600;
            cursor: pointer;
        }

        /* === MOOD === */
        .mood-selector {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 1rem;
        }

        .mood-icon {
            font-size: 2.5rem;
            cursor: pointer;
            opacity: 0.4;
            transition: all 0.3s ease;
            filter: grayscale(100%);
        }

        .mood-icon:hover {
            transform: scale(1.3);
            opacity: 0.8;
            filter: grayscale(0%);
        }

        .mood-icon.selected {
            opacity: 1;
            transform: scale(1.4);
            filter: grayscale(0%);
            animation: pulse 2s ease-in-out infinite;
        }

        /* === TASKS === */
        .task-list {
            list-style: none;
            margin-bottom: 1rem;
            max-height: 200px;
            overflow-y: auto;
        }

        .task-item {
            display: flex;
            gap: 0.75rem;
            padding: 0.875rem;
            background: var(--bg-secondary);
            border-radius: 8px;
            margin-bottom: 0.5rem;
            align-items: center;
        }

        .task-item.completed {
            opacity: 0.5;
        }

        .task-item.completed .task-text {
            text-decoration: line-through;
        }

        .task-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: var(--accent-primary);
        }

        .task-text {
            flex: 1;
        }

        .delete-task {
            background: none;
            border: none;
            cursor: pointer;
            opacity: 0.5;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }

        .delete-task:hover {
            opacity: 1;
            transform: scale(1.2);
        }

        .add-task-container {
            display: flex;
            gap: 0.75rem;
        }

        .add-task-container input {
            flex: 1;
        }

        .add-task-container button {
            width: auto;
            padding: 1rem 1.5rem;
        }

        /* === JOURNAL === */
        .journal-prompt {
            background: var(--hover-bg);
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            font-style: italic;
            color: var(--text-secondary);
            border-left: 3px solid var(--accent-primary);
        }

        .word-count {
            text-align: right;
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        /* === HABITS === */
        .habit-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: var(--bg-secondary);
            border-radius: 8px;
            margin-bottom: 0.75rem;
        }

        .habit-item label {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            cursor: pointer;
        }

        .habit-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: var(--accent-primary);
        }

        /* === WATER TRACKER === */
        .water-tracker {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .water-tracker button {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: none;
            background: var(--accent-primary);
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1;
        }

        .water-tracker button:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px var(--shadow-color);
        }

        .water-count {
            font-size: 1.5rem;
            font-weight: 700;
            min-width: 40px;
            text-align: center;
            color: var(--accent-primary);
        }

        .water-glasses {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .water-glass {
            width: 30px;
            height: 40px;
            border: 2px solid var(--border-color);
            border-radius: 4px;
            position: relative;
            overflow: hidden;
        }

        .water-glass.filled::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 100%;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            animation: fillWater 0.5s ease;
        }

        /* === QUOTE CARD === */
        .quote-text {
            font-size: 1.1rem;
            font-style: italic;
            line-height: 1.6;
            padding: 1.5rem;
            background: var(--bg-secondary);
            border-radius: 8px;
            border-left: 4px solid var(--accent-primary);
            margin-bottom: 1rem;
        }

        .quote-refresh {
            padding: 0.75rem 1.5rem;
            background: var(--button-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--text-primary);
            font-weight: 600;
        }

        .quote-refresh:hover {
            background: var(--hover-bg);
        }

        /* === STATS === */
        .stat-item {
            text-align: center;
            padding: 1rem;
            background: var(--bg-secondary);
            border-radius: 8px;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-top: 0.5rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }

        /* === PROGRESS BAR === */
        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--bg-secondary);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 0.5rem;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
            transition: width 0.5s ease;
        }

        /* === ANIMATIONS === */
        @keyframes pulse {
            0%, 100% { transform: scale(1.4); }
            50% { transform: scale(1.5); }
        }

        @keyframes fillWater {
            from { height: 0; }
            to { height: 100%; }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        /* === CALENDAR === */
        .calendar-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding: 0 1rem;
        }

        .calendar-header h2 {
            font-size: 1.5rem;
            text-transform: capitalize;
        }

        .calendar-nav {
            background: var(--button-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            width: 40px;
            height: 40px;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .calendar-nav:hover {
            background: var(--hover-bg);
            transform: scale(1.1);
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 0.5rem;
            background: var(--bg-primary);
            padding: 2rem;
            border-radius: 16px;
            border: 1px solid var(--border-color);
        }

        .calendar-day-name {
            text-align: center;
            font-weight: 600;
            padding: 1rem;
            color: var(--accent-primary);
            text-transform: uppercase;
            font-size: 0.85rem;
        }

        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-secondary);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .calendar-day:hover:not(.empty) {
            background: var(--hover-bg);
            transform: scale(1.05);
        }

        .calendar-day.today {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            color: white;
            font-weight: 700;
        }

        .calendar-day.empty {
            background: transparent;
            cursor: default;
        }
    </style>
</head>
<body class="theme-dark">
    
    <nav class="sidebar">
        <div class="logo">
            <h1>Ethera</h1>
        </div>
        
        <ul class="nav-menu">
            <li class="nav-item active" onclick="loadPage('today')">
                <span class="icon">üìÖ</span>
                <span>Aujourd'hui</span>
            </li>
            <li class="nav-item" onclick="loadPage('calendar')">
                <span class="icon">üìÜ</span>
                <span>Calendrier</span>
            </li>
            <li class="nav-item" onclick="loadPage('journal')">
                <span class="icon">‚úçÔ∏è</span>
                <span>Journal</span>
            </li>
            <li class="nav-item" onclick="loadPage('projects')">
                <span class="icon">üìä</span>
                <span>Projets</span>
            </li>
            <li class="nav-item" onclick="loadPage('insights')">
                <span class="icon">üìà</span>
                <span>Insights</span>
            </li>
        </ul>
        
        <div class="theme-toggle">
            <button id="themeToggle" onclick="toggleTheme()">üåô Mode Sombre</button>
        </div>
    </nav>

    <main class="main-content">
        <div id="content-container"></div>
    </main>

    <script>
        // === APP STATE ===
        let appState = {
            mood: null,
            waterCount: 0,
            habits: {
                exercise: false,
                meditation: false,
                reading: false
            },
            tasks: [],
            journalStreak: 0,
            currentYear: new Date().getFullYear(),
            currentMonth: new Date().getMonth()
        };

        // Load saved data
        function loadSavedData() {
            const saved = localStorage.getItem('ethera-data');
            if (saved) {
                appState = {...appState, ...JSON.parse(saved)};
            }
        }

        // Save data
        function saveData() {
            localStorage.setItem('ethera-data', JSON.stringify(appState));
        }

        // === QUOTES ===
        const quotes = [
            "La vie est faite de petits bonheurs.",
            "Chaque jour est une nouvelle chance.",
            "Crois en toi et tout devient possible.",
            "Le bonheur est un voyage, pas une destination.",
            "Fais de ta vie un r√™ve, et d'un r√™ve, une r√©alit√©.",
            "La seule limite est celle que tu te fixes.",
            "Commence l√† o√π tu es, utilise ce que tu as, fais ce que tu peux.",
            "Le succ√®s, c'est tomber sept fois, se relever huit.",
            "Sois le changement que tu veux voir dans le monde.",
            "Les r√™ves ne se r√©alisent pas par magie, il faut de la sueur, de la d√©termination et du travail."
        ];

        let currentQuote = quotes[0];

        function getNewQuote() {
            currentQuote = quotes[Math.floor(Math.random() * quotes.length)];
            document.querySelector('.quote-text').textContent = `"${currentQuote}"`;
        }

        // === PROMPTS ===
        const journalPrompts = [
            "Comment vous sentez-vous aujourd'hui ?",
            "Qu'est-ce qui vous rend reconnaissant(e) aujourd'hui ?",
            "Quel est votre objectif principal pour aujourd'hui ?",
            "Quelle est la meilleure chose qui vous est arriv√©e r√©cemment ?",
            "Qu'avez-vous appris aujourd'hui ?",
            "Qu'est-ce qui vous inspire en ce moment ?",
            "Quel petit plaisir vous √™tes-vous accord√© aujourd'hui ?",
            "Qu'aimeriez-vous accomplir cette semaine ?"
        ];

        // === LOAD PAGE ===
        function loadPage(page) {
            const container = document.getElementById('content-container');
            const navItems = document.querySelectorAll('.nav-item');
            
            navItems.forEach(item => item.classList.remove('active'));
            event.target.closest('.nav-item').classList.add('active');
            
            if (page === 'today') {
                loadTodayPage(container);
            } else if (page === 'calendar') {
                loadCalendarPage(container);
            } else if (page === 'journal') {
                loadJournalPage(container);
            } else if (page === 'projects') {
                container.innerHTML = '<div class="page-header"><h1>Projets</h1></div><p>√Ä venir...</p>';
            } else if (page === 'insights') {
                container.innerHTML = '<div class="page-header"><h1>Insights</h1></div><p>√Ä venir...</p>';
            }
        }

        // === TODAY PAGE ===
        function loadTodayPage(container) {
            const randomPrompt = journalPrompts[Math.floor(Math.random() * journalPrompts.length)];
            const tasksHTML = appState.tasks.length > 0 
                ? appState.tasks.map((task, i) => `
                    <li class="task-item ${task.completed ? 'completed' : ''}">
                        <input type="checkbox" ${task.completed ? 'checked' : ''} onchange="toggleTask(${i})">
                        <span class="task-text">${task.text}</span>
                        <button class="delete-task" onclick="deleteTask(${i})">üóëÔ∏è</button>
                    </li>
                `).join('')
                : '<li style="text-align: center; color: var(--text-secondary); padding: 1rem;">Aucune t√¢che</li>';

            container.innerHTML = `
                <div class="page-header fade-in">
                    <h1>Aujourd'hui</h1>
                    <p class="date">${new Date().toLocaleDateString('fr-FR', { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' })}</p>
                </div>
                
                <div class="today-grid">
                    <!-- JOURNAL RAPIDE -->
                    <div class="card">
                        <h3>‚úçÔ∏è Journal rapide</h3>
                        <p class="journal-prompt">${randomPrompt}</p>
                        <textarea id="quickJournal" placeholder="√âcrivez vos pens√©es..."></textarea>
                        <div class="word-count">0 mots</div>
                        <button class="btn-primary" onclick="saveJournal()">Sauvegarder</button>
                    </div>
                    
                    <!-- T√ÇCHES -->
                    <div class="card">
                        <h3>üìã T√¢ches du jour</h3>
                        <ul class="task-list">${tasksHTML}</ul>
                        <div class="add-task-container">
                            <input type="text" id="newTask" placeholder="Nouvelle t√¢che..." onkeypress="if(event.key==='Enter') addTask()">
                            <button class="btn-secondary" onclick="addTask()">+ Ajouter</button>
                        </div>
                    </div>
                    
                    <!-- HUMEUR -->
                    <div class="card">
                        <h3>üòä Comment vous sentez-vous ?</h3>
                        <div class="mood-selector">
                            <span class="mood-icon ${appState.mood === 'ecstatic' ? 'selected' : ''}" onclick="selectMood('ecstatic')">ü§©</span>
                            <span class="mood-icon ${appState.mood === 'happy' ? 'selected' : ''}" onclick="selectMood('happy')">üòä</span>
                            <span class="mood-icon ${appState.mood === 'good' ? 'selected' : ''}" onclick="selectMood('good')">üôÇ</span>
                            <span class="mood-icon ${appState.mood === 'neutral' ? 'selected' : ''}" onclick="selectMood('neutral')">üòê</span>
                            <span class="mood-icon ${appState.mood === 'sad' ? 'selected' : ''}" onclick="selectMood('sad')">üòî</span>
                            <span class="mood-icon ${appState.mood === 'angry' ? 'selected' : ''}" onclick="selectMood('angry')">üò°</span>
                            <span class="mood-icon ${appState.mood === 'tired' ? 'selected' : ''}" onclick="selectMood('tired')">üò¥</span>
                        </div>
                    </div>
                    
                    <!-- EAU -->
                    <div class="card">
                        <h3>üíß Hydratation</h3>
                        <div class="water-tracker">
                            <button onclick="decrementWater()">-</button>
                            <span class="water-count">${appState.waterCount}/8</span>
                            <button onclick="incrementWater()">+</button>
                        </div>
                        <div class="water-glasses">
                            ${Array.from({length: 8}, (_, i) => `<div class="water-glass ${i < appState.waterCount ? 'filled' : ''}"></div>`).join('')}
                        </div>
                    </div>
                    
                    <!-- HABITUDES -->
                    <div class="card">
                        <h3>üéØ Habitudes</h3>
                        <div class="habit-item">
                            <label>
                                <input type="checkbox" ${appState.habits.exercise ? 'checked' : ''} onchange="toggleHabit('exercise')">
                                üí™ Exercice
                            </label>
                        </div>
                        <div class="habit-item">
                            <label>
                                <input type="checkbox" ${appState.habits.meditation ? 'checked' : ''} onchange="toggleHabit('meditation')">
                                üßò M√©ditation
                            </label>
                        </div>
                        <div class="habit-item">
                            <label>
                                <input type="checkbox" ${appState.habits.reading ? 'checked' : ''} onchange="toggleHabit('reading')">
                                üìö Lecture
                            </label>
                        </div>
                    </div>
                    
                    <!-- CITATION -->
                    <div class="card">
                        <h3>üí´ Citation du jour</h3>
                        <div class="quote-text">"${currentQuote}"</div>
                        <button class="quote-refresh" onclick="getNewQuote()">üîÑ Nouvelle citation</button>
                    </div>
                    
                    <!-- STATISTIQUES -->
                    <div class="card">
                        <h3>üìà Statistiques</h3>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="stat-number">${appState.journalStreak}</div>
                                <div class="stat-label">Jours d'affil√©e</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">${appState.tasks.filter(t => t.completed).length}</div>
                                <div class="stat-label">T√¢ches compl√©t√©es</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- OBJECTIF -->
                    <div class="card">
                        <h3>üéØ Objectif principal</h3>
                        <input type="text" id="mainGoal" placeholder="Quel est votre objectif principal aujourd'hui ?" style="margin-bottom: 0;">
                    </div>
                </div>
            `;
            
            // Word counter
            const journal = document.getElementById('quickJournal');
            if (journal) {
                journal.addEventListener('input', () => {
                    const words = journal.value.trim() ? journal.value.trim().split(/\s+/).length : 0;
                    document.querySelector('.word-count').textContent = words + ' mot' + (words > 1 ? 's' : '');
                });
            }
        }

        // === TASKS ===
        function addTask() {
            const input = document.getElementById('newTask');
            if (input.value.trim()) {
                appState.tasks.push({ text: input.value.trim(), completed: false });
                saveData();
                loadPage('today');
            }
        }

        function toggleTask(i) {
            appState.tasks[i].completed = !appState.tasks[i].completed;
            saveData();
            loadPage('today');
        }

        function deleteTask(i) {
            appState.tasks.splice(i, 1);
            saveData();
            loadPage('today');
        }

        // === MOOD ===
        function selectMood(mood) {
            appState.mood = mood;
            saveData();
            document.querySelectorAll('.mood-icon').forEach(icon => icon.classList.remove('selected'));
            event.target.classList.add('selected');
        }

        // === WATER ===
        function incrementWater() {
            if (appState.waterCount < 8) {
                appState.waterCount++;
                saveData();
                loadPage('today');
            }
        }

        function decrementWater() {
            if (appState.waterCount > 0) {
                appState.waterCount--;
                saveData();
                loadPage('today');
            }
        }

        // === HABITS ===
        function toggleHabit(habit) {
            appState.habits[habit] = !appState.habits[habit];
            saveData();
        }

        // === JOURNAL ===
        function saveJournal() {
            const text = document.getElementById('quickJournal').value;
            if (text.trim()) {
                appState.journalStreak++;
                saveData();
                alert('‚úÖ Journal sauvegard√© !');
            }
        }

        // === CALENDAR PAGE ===
        function loadCalendarPage(container) {
            const month = new Date(appState.currentYear, appState.currentMonth).toLocaleDateString('fr-FR', { month: 'long', year: 'numeric' });
            
            container.innerHTML = `
                <div class="page-header">
                    <h1>Calendrier</h1>
                    <p class="date">${month}</p>
                </div>
                
                <div class="calendar-container">
                    <div class="calendar-header">
                        <button class="calendar-nav" onclick="previousMonth()">‚Äπ</button>
                        <h2 id="currentMonth">${month}</h2>
                        <button class="calendar-nav" onclick="nextMonth()">‚Ä∫</button>
                    </div>
                    
                    <div class="calendar-grid">
                        <div class="calendar-day-name">Lun</div>
                        <div class="calendar-day-name">Mar</div>
                        <div class="calendar-day-name">Mer</div>
                        <div class="calendar-day-name">Jeu</div>
                        <div class="calendar-day-name">Ven</div>
                        <div class="calendar-day-name">Sam</div>
                        <div class="calendar-day-name">Dim</div>
                        <div id="calendarDays" style="grid-column: 1 / -1; display: grid; grid-template-columns: repeat(7, 1fr); gap: 0.5rem;"></div>
                    </div>
                </div>
            `;
            
            renderCalendar();
        }

        function renderCalendar() {
            const firstDay = new Date(appState.currentYear, appState.currentMonth, 1);
            const lastDay = new Date(appState.currentYear, appState.currentMonth + 1, 0);
            const daysInMonth = lastDay.getDate();
            const startingDayOfWeek = firstDay.getDay() === 0 ? 6 : firstDay.getDay() - 1;
            
            const calendarDays = document.getElementById('calendarDays');
            if (!calendarDays) return;
            
            calendarDays.innerHTML = '';
            
            for (let i = 0; i < startingDayOfWeek; i++) {
                calendarDays.innerHTML += '<div class="calendar-day empty"></div>';
            }
            
            const today = new Date();
            for (let day = 1; day <= daysInMonth; day++) {
                const isToday = day === today.getDate() && appState.currentMonth === today.getMonth() && appState.currentYear === today.getFullYear();
                calendarDays.innerHTML += `<div class="calendar-day ${isToday ? 'today' : ''}">${day}</div>`;
            }
        }

        function previousMonth() {
            appState.currentMonth--;
            if (appState.currentMonth < 0) {
                appState.currentMonth = 11;
                appState.currentYear--;
            }
            const month = new Date(appState.currentYear, appState.currentMonth).toLocaleDateString('fr-FR', { month: 'long', year: 'numeric' });
            document.getElementById('currentMonth').textContent = month;
            renderCalendar();
        }

        function nextMonth() {
            appState.currentMonth++;
            if (appState.currentMonth > 11) {
                appState.currentMonth = 0;
                appState.currentYear++;
            }
            const month = new Date(appState.currentYear, appState.currentMonth).toLocaleDateString('fr-FR', { month: 'long', year: 'numeric' });
            document.getElementById('currentMonth').textContent = month;
            renderCalendar();
        }

        // === JOURNAL PAGE ===
        function loadJournalPage(container) {
            container.innerHTML = `
                <div class="page-header">
                    <h1>Journal</h1>
                </div>
                <div class="card" style="max-width: 800px; margin: 0 auto;">
                    <h3>Nouvelle entr√©e</h3>
                    <input type="text" placeholder="Titre...">
                    <textarea style="min-height: 300px;" placeholder="√âcrivez vos pens√©es..."></textarea>
                    <button class="btn-primary">Sauvegarder</button>
                </div>
            `;
        }

        // === THEME ===
        function toggleTheme() {
            const body = document.body;
            const button = document.getElementById('themeToggle');
            
            if (body.classList.contains('theme-dark')) {
                body.classList.remove('theme-dark');
                body.classList.add('theme-light');
                button.textContent = '‚òÄÔ∏è Mode Clair';
            } else {
                body.classList.remove('theme-light');
                body.classList.add('theme-dark');
                button.textContent = 'üåô Mode Sombre';
            }
        }

        // === INIT ===
        loadSavedData();
        loadPage('today');
    </script>
</body>
</html>
